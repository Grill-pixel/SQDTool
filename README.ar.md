# SQDTool — لوحة إدارة التشكيلة الحديثة

![Python](https://img.shields.io/badge/Python-3.9%2B-3776AB?logo=python&logoColor=white)
![UI](https://img.shields.io/badge/UI-Tkinter-0F172A)
![الرخصة](https://img.shields.io/badge/License-MIT-10B981)

**SQDTool** هو تطبيق سطح مكتب مبني بـ Tkinter لإدارة التشكيلة، بناء توزيع تكتيكي بصري، وتوليد ملفات PDF جاهزة للمشاركة. يجمع بين محرّر قائمة اللاعبين، عرض ملعب تفاعلي، ونظام ثيمات عصري.

**اللغات:** [Français](README.md) · [English](README.en.md) · [الرخصة](LICENSE)

---

## المحتويات

- [الميزات](#الميزات)
- [المتطلبات](#المتطلبات)
- [تثبيت سريع](#تثبيت-سريع)
- [دليل الاستخدام](#دليل-الاستخدام)
  - [1) إعدادات النادي](#1-إعدادات-النادي)
  - [2) إدارة التشكيلة](#2-إدارة-التشكيلة)
  - [3) التخطيط التكتيكي](#3-التخطيط-التكتيكي)
  - [4) تصدير PDF](#4-تصدير-pdf)
- [الملفات والحفظ والصيغ](#الملفات-والحفظ-والصيغ)
- [تخصيص الثيمات](#تخصيص-الثيمات)
- [استكشاف الأخطاء وإصلاحها](#استكشاف-الأخطاء-وإصلاحها)
- [الرخصة](#الرخصة)

---

## الميزات

- **إدارة كاملة للتشكيلة**: إضافة، تعديل، حذف بنقرة واحدة.
- **محرر متقدم**: بحث فوري، نموذج لاعب، حفظ/تحميل JSON.
- **تخطيط تكتيكي تفاعلي**: توزيع اللاعبين حسب الأدوار مع تحريك يدوي.
- **تصدير PDF**:
  - **تشكيلة** (جدول منظم بالأعمدة)
  - **توزيع** (نسخة مطابقة لواجهة الملعب)
- **ثيمات حديثة**: 12 لوحة ألوان مدمجة، حفظ تلقائي.
- **حفظ دائم**: اسم النادي، الموسم، الثيم، التشكيلة، والتخطيط.

---

## المتطلبات

- **Python 3.9+**
- **pip** (لتثبيت الاعتماديات عند الحاجة)

> الاعتماديات: `fpdf2` لتصدير PDF و `Pillow` لالتقاط التخطيط. يتم تثبيتها تلقائياً إن كانت مفقودة.

---

## تثبيت سريع

```bash
git clone <your-repo>
cd SQDTool
python marseille.pyw
```

---

## دليل الاستخدام

### 1) إعدادات النادي
في تبويب **الإعدادات** يمكنك تعديل:

- **اسم النادي**
- **الموسم**
- **الثيم**

اضغط **تطبيق** لتحديث الواجهة والتصديرات.

### 2) إدارة التشكيلة
افتح **تعديل التشكيلة** من الشريط الجانبي لـ:

- إضافة لاعب (الاسم، المركز، العمر، الجنسية، الحالة، خيار الشراء).
- تحديث صف موجود.
- حذف الصفوف المحددة.
- تحميل/حفظ التشكيلة بصيغة JSON.

### 3) التخطيط التكتيكي
عرض **تخطيط الملعب** يسمح ببناء التشكيلة على نصف ملعب:

- **وضع توزيع اللاعبين**: اختر لاعباً ثم اضغط على الدور لتعيينه.
- **وضع تحريك المراكز**: اسحب الأدوار لتعديل مواقعها.
- **حفظ / تحميل**: تخزين التوزيع والمواقع لكل خطة.
- **إعادة ضبط**: مسح التعيينات أو المواضع.

### 4) تصدير PDF

- **PDF التشكيلة**: زر **Squad PDF** من الشريط الجانبي أو تبويب الإجراءات.
- **PDF التخطيط**: زر **Export to PDF** داخل نافذة التخطيط.

التصدير يعكس **الحالة الحالية للواجهة** (العناوين، الثيم، المواقع).

---

## الملفات والحفظ والصيغ

| الملف / المجلد | الغرض |
| --- | --- |
| `effectifOM.json` | التشكيلة الافتراضية إذا لم يوجد `composition.json` |
| `composition.json` | بيانات التشكيلة المحفوظة |
| `settings.json` | اسم النادي، الموسم، الثيم |
| `disposition_layout.json` | مواضع التخطيط حسب الخطة |
| `PDFs/` | ملفات PDF المصدّرة |
| `om_program_logs.txt` | سجلات التشغيل |

### صيغ التشكيلة المدعومة
يمكن أن يكون الملف:
- قائمة صفوف `[[player, position, age, nationality, status, option], ...]`,
- أو قاموس أقسام يتم تحويله تلقائياً.

---

## تخصيص الثيمات

الثيمات معرفة داخل `marseille.pyw` عبر القاموس `themes`:

```python
"My Theme": {
    "bg": "#...",
    "card": "#...",
    "primary": "#...",
    "accent": "#...",
    "text": "#...",
    "muted": "#...",
    "button": "#...",
    "button_text": "#...",
}
```

---

## استكشاف الأخطاء وإصلاحها

- **فشل تصدير PDF**: تأكد من تثبيت `fpdf2` (الاتصال مطلوب في أول تشغيل).
- **خطأ في تصدير التخطيط**: يجب توفر `Pillow` وقد يفشل التثبيت بدون اتصال.
- **نصوص مقطوعة**: قم بتكبير نافذة التخطيط قبل التصدير.
- **خط غير متوفر**: قد يستخدم التصدير خطاً احتياطياً على بعض الأنظمة.

---

## الرخصة

هذا المشروع مرخص بـ MIT. راجع `LICENSE`.
